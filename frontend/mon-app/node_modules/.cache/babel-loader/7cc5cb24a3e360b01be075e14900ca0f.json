{"ast":null,"code":"var _jsxFileName = \"C:\\\\Openclassroom\\\\P7_atanassov_julien\\\\frontend\\\\mon-app\\\\src\\\\components\\\\DeleteUser.js\";\nimport React, { Component } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://localhost:3002/api/users/me/delete/',\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    common: {\n      Authorization: localStorage.getItem('token')\n    }\n  }\n});\n\nclass DeleteUser extends Component {\n  constructor(props) {\n    var _s = $RefreshSig$();\n\n    super(props);\n    this.state = {\n      contents: []\n    };\n    this.deleteUser = _s(async () => {\n      _s();\n\n      const history = useHistory();\n      let userId = localStorage.getItem('userId');\n      const params = new URLSearchParams();\n      params.append('userId', userId);\n      await api.post('/', params).catch();\n      history.push('/articles');\n    }, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n      return [useHistory];\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        id: \"boxContent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contentContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: this.deleteUser,\n            children: \"Supprimer votre profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DeleteUser;","map":{"version":3,"sources":["C:/Openclassroom/P7_atanassov_julien/frontend/mon-app/src/components/DeleteUser.js"],"names":["React","Component","useHistory","Container","axios","api","create","baseURL","headers","common","Authorization","localStorage","getItem","DeleteUser","constructor","props","state","contents","deleteUser","history","userId","params","URLSearchParams","append","post","catch","push","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,4CADc;AAEvBC,EAAAA,OAAO,EAAE;AACP,oBAAgB,mCADT;AAEPC,IAAAA,MAAM,EAAE;AACNC,MAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADT;AAFD;AAFc,CAAb,CAAZ;;AAUA,MAAMC,UAAN,SAAyBZ,SAAzB,CAAmC;AAIjCa,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAAA;;AACjB,UAAMA,KAAN;AADiB,SAHnBC,KAGmB,GAHX;AACNC,MAAAA,QAAQ,EAAE;AADJ,KAGW;AAAA,SAInBC,UAJmB,MAIN,YAAY;AAAA;;AACvB,YAAMC,OAAO,GAAGjB,UAAU,EAA1B;AACA,UAAIkB,MAAM,GAAGT,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAb;AACA,YAAMS,MAAM,GAAG,IAAIC,eAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,MAAP,CAAc,QAAd,EAAwBH,MAAxB;AAEA,YAAMf,GAAG,CAACmB,IAAJ,CAAS,GAAT,EAAcH,MAAd,EAAsBI,KAAtB,EAAN;AACAN,MAAAA,OAAO,CAACO,IAAR,CAAa,WAAb;AACD,KAZkB;AAAA,cAKDxB,UALC;AAAA;AAElB;;AAYDyB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,6BACE,QAAC,SAAD;AAAW,QAAA,EAAE,EAAC,YAAd;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,iCACE;AAAQ,YAAA,SAAS,EAAC,iBAAlB;AAAoC,YAAA,OAAO,EAAE,KAAKT,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AA9BgC;;AAiCnC,eAAeL,UAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Container from 'react-bootstrap/Container';\r\nimport axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3002/api/users/me/delete/',\r\n  headers: {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n    common: {\r\n      Authorization: localStorage.getItem('token')\r\n    }\r\n  }\r\n});\r\n\r\nclass DeleteUser extends Component {\r\n  state = {\r\n    contents: []\r\n  };\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  deleteUser = async () => {\r\n    const history = useHistory();\r\n    let userId = localStorage.getItem('userId');\r\n    const params = new URLSearchParams();\r\n    params.append('userId', userId);\r\n\r\n    await api.post('/', params).catch();\r\n    history.push('/articles');\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Container id='boxContent'>\r\n          <div className='contentContainer'>\r\n            <button className='btn btn-primary' onClick={this.deleteUser}>\r\n              Supprimer votre profil\r\n            </button>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteUser;\r\n"]},"metadata":{},"sourceType":"module"}