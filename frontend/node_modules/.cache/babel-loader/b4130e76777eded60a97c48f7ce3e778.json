{"ast":null,"code":"var _jsxFileName = \"C:\\\\Openclassroom\\\\P7_atanassov_julien\\\\frontend\\\\mon-app\\\\src\\\\pages\\\\Admin.js\",\n    _s = $RefreshSig$();\n\n// Imports\nimport Navigation from '../components/Navigation.';\nimport AdminContents from '../components/AdminContents';\nimport AdminComments from '../components/AdminComments';\nimport IsNotConnected from '../components/IsNotConnected';\nimport axios from 'axios'; // Création de l'instance axios\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://localhost:3002/api/users/me',\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    common: {\n      Authorization: localStorage.getItem('token')\n    }\n  }\n}); // Page Articles\n\nconst Admin = () => {\n  _s();\n\n  // Composant barre de navigation\n  const params = new URLSearchParams();\n  params.append('userData', localStorage.getItem('userId'));\n  let [isAuth, setIsAuth] = useState('');\n  const history = useHistory();\n\n  const getUser = async () => {\n    console.log(params.UserData);\n    let data = await api.post('/', params).then(({\n      data\n    }) => data);\n    console.log(data.isAdmin);\n    setIsAuth(data.isAdmin);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(IsNotConnected, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AdminContents, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AdminComments, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Admin, \"UYVGUNfMhalmZ87iBU2cnGHVNno=\", true);\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["C:/Openclassroom/P7_atanassov_julien/frontend/mon-app/src/pages/Admin.js"],"names":["Navigation","AdminContents","AdminComments","IsNotConnected","axios","api","create","baseURL","headers","common","Authorization","localStorage","getItem","Admin","params","URLSearchParams","append","isAuth","setIsAuth","useState","history","useHistory","getUser","console","log","UserData","data","post","then","isAdmin"],"mappings":";;;AAAA;AACA,OAAOA,UAAP,MAAuB,2BAAvB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,oCADc;AAEvBC,EAAAA,OAAO,EAAE;AACP,oBAAgB,mCADT;AAEPC,IAAAA,MAAM,EAAE;AACNC,MAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADT;AAFD;AAFc,CAAb,CAAZ,C,CASA;;AACA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB;AACA,QAAMC,MAAM,GAAG,IAAIC,eAAJ,EAAf;AACAD,EAAAA,MAAM,CAACE,MAAP,CAAc,UAAd,EAA0BL,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA1B;AACA,MAAI,CAACK,MAAD,EAASC,SAAT,IAAsBC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMC,OAAO,GAAGC,UAAU,EAA1B;;AAEA,QAAMC,OAAO,GAAG,YAAY;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYV,MAAM,CAACW,QAAnB;AACA,QAAIC,IAAI,GAAG,MAAMrB,GAAG,CAACsB,IAAJ,CAAS,GAAT,EAAcb,MAAd,EAAsBc,IAAtB,CAA2B,CAAC;AAAEF,MAAAA;AAAF,KAAD,KAAcA,IAAzC,CAAjB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACG,OAAjB;AACAX,IAAAA,SAAS,CAACQ,IAAI,CAACG,OAAN,CAAT;AACD,GALD;;AAMA,sBACE;AAAA,4BACE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,YAFF,eAGE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,YAJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CArBD;;GAAMhB,K;;KAAAA,K;AAsBN,eAAeA,KAAf","sourcesContent":["// Imports\r\nimport Navigation from '../components/Navigation.';\r\nimport AdminContents from '../components/AdminContents';\r\nimport AdminComments from '../components/AdminComments';\r\nimport IsNotConnected from '../components/IsNotConnected';\r\nimport axios from 'axios';\r\n// Création de l'instance axios\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3002/api/users/me',\r\n  headers: {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n    common: {\r\n      Authorization: localStorage.getItem('token')\r\n    }\r\n  }\r\n});\r\n// Page Articles\r\nconst Admin = () => {\r\n  // Composant barre de navigation\r\n  const params = new URLSearchParams();\r\n  params.append('userData', localStorage.getItem('userId'));\r\n  let [isAuth, setIsAuth] = useState('');\r\n  const history = useHistory();\r\n\r\n  const getUser = async () => {\r\n    console.log(params.UserData);\r\n    let data = await api.post('/', params).then(({ data }) => data);\r\n    console.log(data.isAdmin);\r\n    setIsAuth(data.isAdmin);\r\n  };\r\n  return (\r\n    <div>\r\n      <IsNotConnected />\r\n      <Navigation />\r\n      <AdminContents />\r\n      <AdminComments />\r\n    </div>\r\n  );\r\n};\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}