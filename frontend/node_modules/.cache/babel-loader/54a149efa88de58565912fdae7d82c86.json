{"ast":null,"code":"var _jsxFileName = \"C:\\\\Openclassroom\\\\P7_atanassov_julien\\\\frontend\\\\mon-app\\\\src\\\\pages\\\\Admin.js\",\n    _s = $RefreshSig$();\n\n// Imports\nimport React, { useState, useEffect } from 'react';\nimport Navigation from '../components/Navigation.';\nimport AdminContents from '../components/AdminContents';\nimport AdminComments from '../components/AdminComments';\nimport IsNotConnected from '../components/IsNotConnected';\nimport axios from 'axios'; // Création de l'instance axios\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = axios.create({\n  baseURL: 'http://localhost:3002/api/users/me',\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    common: {\n      Authorization: localStorage.getItem('token')\n    }\n  }\n}); // Page Articles\n\nconst Admin = () => {\n  _s();\n\n  // Composant barre de navigation\n  const params = new URLSearchParams();\n  params.append('userData', localStorage.getItem('userId'));\n  let [isAuth, setIsAuth] = useState('');\n\n  const getUser = async () => {\n    console.log(params.UserData);\n    let data = await api.post('/', params).then(({\n      data\n    }) => data);\n    console.log(data.isAdmin);\n    setIsAuth(data.isAdmin);\n  };\n\n  const isUserAuth = () => {\n    if (isAuth === 2) {\n      console.log(isAuth);\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(IsNotConnected, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), isUserAuth() === true && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AdminContents, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AdminComments, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Admin, \"hcXDVk2FtNdNiaLwIvfduSCvlBA=\");\n\n_c = Admin;\nexport default Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["C:/Openclassroom/P7_atanassov_julien/frontend/mon-app/src/pages/Admin.js"],"names":["React","useState","useEffect","Navigation","AdminContents","AdminComments","IsNotConnected","axios","api","create","baseURL","headers","common","Authorization","localStorage","getItem","Admin","params","URLSearchParams","append","isAuth","setIsAuth","getUser","console","log","UserData","data","post","then","isAdmin","isUserAuth"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;;AACA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,oCADc;AAEvBC,EAAAA,OAAO,EAAE;AACP,oBAAgB,mCADT;AAEPC,IAAAA,MAAM,EAAE;AACNC,MAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADT;AAFD;AAFc,CAAb,CAAZ,C,CASA;;AACA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB;AACA,QAAMC,MAAM,GAAG,IAAIC,eAAJ,EAAf;AACAD,EAAAA,MAAM,CAACE,MAAP,CAAc,UAAd,EAA0BL,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA1B;AACA,MAAI,CAACK,MAAD,EAASC,SAAT,IAAsBpB,QAAQ,CAAC,EAAD,CAAlC;;AAEA,QAAMqB,OAAO,GAAG,YAAY;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACQ,QAAnB;AACA,QAAIC,IAAI,GAAG,MAAMlB,GAAG,CAACmB,IAAJ,CAAS,GAAT,EAAcV,MAAd,EAAsBW,IAAtB,CAA2B,CAAC;AAAEF,MAAAA;AAAF,KAAD,KAAcA,IAAzC,CAAjB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACG,OAAjB;AACAR,IAAAA,SAAS,CAACK,IAAI,CAACG,OAAN,CAAT;AACD,GALD;;AAMA,QAAMC,UAAU,GAAG,MAAM;AACvB,QAAIV,MAAM,KAAK,CAAf,EAAkB;AAChBG,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ;AACA,aAAO,IAAP;AACD,KAHD,MAGO;AACL,aAAO,KAAP;AACD;AACF,GAPD;;AAQA,sBACE;AAAA,4BACE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADF,EAEGU,UAAU,OAAO,IAAjB,iBACC;AAAA,8BACE,QAAC,UAAD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CAhCD;;GAAMd,K;;KAAAA,K;AAiCN,eAAeA,KAAf","sourcesContent":["// Imports\r\nimport React, { useState, useEffect } from 'react';\r\nimport Navigation from '../components/Navigation.';\r\nimport AdminContents from '../components/AdminContents';\r\nimport AdminComments from '../components/AdminComments';\r\nimport IsNotConnected from '../components/IsNotConnected';\r\nimport axios from 'axios';\r\n// Création de l'instance axios\r\nconst api = axios.create({\r\n  baseURL: 'http://localhost:3002/api/users/me',\r\n  headers: {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n    common: {\r\n      Authorization: localStorage.getItem('token')\r\n    }\r\n  }\r\n});\r\n// Page Articles\r\nconst Admin = () => {\r\n  // Composant barre de navigation\r\n  const params = new URLSearchParams();\r\n  params.append('userData', localStorage.getItem('userId'));\r\n  let [isAuth, setIsAuth] = useState('');\r\n\r\n  const getUser = async () => {\r\n    console.log(params.UserData);\r\n    let data = await api.post('/', params).then(({ data }) => data);\r\n    console.log(data.isAdmin);\r\n    setIsAuth(data.isAdmin);\r\n  };\r\n  const isUserAuth = () => {\r\n    if (isAuth === 2) {\r\n      console.log(isAuth);\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <IsNotConnected />\r\n      {isUserAuth() === true && (\r\n        <div>\r\n          <Navigation />\r\n          <AdminContents />\r\n          <AdminComments />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Admin;\r\n"]},"metadata":{},"sourceType":"module"}